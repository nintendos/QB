var queue = require("./q.js");

user1 = {
	name:'abe',
	accountType:'admin'
}

user2 = {
	name:'bob',
	accountType:'user'
}

queue.init('users');
queue.init('admins');

queue.routeFilter.register('user/admin', function(accountType) {
	if(accountType === 'admin')
		return 'admins'
	else
		return 'users';
});

queue.routeFilter.set('user/admin');

//instead of queue.use() we just use route() and pass the accountType so q.js can handle the routing
queue.route(user1.accountType).add(user1.name);
queue.route(user2.accountType).add(user2.name);
